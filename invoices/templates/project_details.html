{% extends "base.html" %}
{% load humanize %}

{% block content %}

<ol class="breadcrumb">
  <li><a href="{% url 'frontpage' %}">Home</a></li>
  <li><a href="{% url 'projects_list' %}">Projects</a></li>
  <li class="active"><a href="{% url 'project' project.guid %}">Project</a></li>
</ol>

<h2>{{ project.client }} - {{ project.name}} </h2>

<table class="table table-striped">
<thead>
  <tr>
    <th>Date</th>
    <th>State</th>
    <th>Comments</th>
    <th class="number-column">Issues</th>
    <th class="number-column">Hours</th>
    <th class="number-column">Avg rate</th>
    <th class="number-column">Price</th>
    <th></th>
</thead>
<tbody>
{% for invoice in invoices %}
<tr>
  <td>{{ invoice.year }}-{{ invoice.month }}</td>
  <td>{{ invoice.get_invoice_state_display }}</td>
  <td>{{ invoice.has_comments }}</td>
  <td class="number-column">{{ invoice.incorrect_entries_count }}</td>

  <td class="number-column">{{ invoice.total_hours|floatformat:0|intcomma }}h</td>
  <td class="number-column">{{ invoice.bill_rate_avg|floatformat:1 }}&euro;/h</td>
  <td class="number-column">{{ invoice.total_money|floatformat:0|intcomma }}&euro;</td>
  <td><a href="{% url 'invoice' invoice.invoice_id %}">Invoice</a>, <a href="{% url 'invoice_hours' invoice.invoice_id %}">hours</a></td>
</tr>
  {% endfor %}
</tbody>
</table>
{% endblock %}
