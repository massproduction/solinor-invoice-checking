{% extends "base.html" %}
{% block header %}
<script>
$('#person-hours a').click(function (e) {
  e.preventDefault()
  $(this).tab('show')
});
</script>
{% endblock %}
{% block content %}
<ol class="breadcrumb">
  <li><a href="{% url 'frontpage' %}">Home</a></li>
  <li><a href="{% url 'people' %}">People</a></li>
  <li class="active">Person: {{ person.first_name }}</li>
</ol>

<h2>{{ person.display_name }}</h2>

<div class="row" style="margin-bottom: 1em">
  <div class="col-md-12">
    <a href="https://app.10000ft.com/?user_id={{ person.guid }}" role="button" class="btn btn-info">View {{ person.first_name }} in 10000ft</a>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <div id="person-hours">

      <!-- Nav tabs -->
      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#all_entries" role="tab" data-toggle="tab">All hours <span class="badge">{{ stats.total_entries }}</span></a></li>
        <li role="presentation"><a href="#non_phase_specific" role="tab" data-toggle="tab">Non-phase specific hours <span class="badge">{{ stats.non_phase_specific_count }}</span></a></li>
        <li role="presentation"><a href="#empty_descriptions" role="tab" data-toggle="tab">Empty descriptions <span class="badge">{{ stats.empty_descriptions_count }}</span></a></li>
        <li role="presentation"><a href="#billable_incorrect_price" role="tab" data-toggle="tab">Incorrect prices <span class="badge">{{ stats.billable_incorrect_price_count }}</span></a></li>
        <li role="presentation"><a href="#not_approved_hours" role="tab" data-toggle="tab">Not approved  <span class="badge">{{ stats.not_approved_hours_count }}</span></a></li>
      </ul>

      <!-- Tab panes -->
      <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="all_entries">
          {% include "person_hour_table.html" with entries=hour_entries %}
        </div>
        <div role="tabpanel" class="tab-pane" id="non_phase_specific">
          {% include "person_hour_table.html" with entries=stats.non_phase_specific %}
        </div>
        <div role="tabpanel" class="tab-pane" id="empty_descriptions">
          {% include "person_hour_table.html" with entries=stats.empty_descriptions %}
        </div>
        <div role="tabpanel" class="tab-pane" id="billable_incorrect_price">
          {% include "person_hour_table.html" with entries=stats.billable_incorrect_price %}
        </div>
        <div role="tabpanel" class="tab-pane" id="not_approved_hours">
          {% include "person_hour_table.html" with entries=stats.not_approved_hours %}
        </div>
      </div>

    </div>
  </div>
</div>
{% endblock %}
